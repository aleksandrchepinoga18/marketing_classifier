# üìä Marketing Campaign Classifier

**End-to-end ML pipeline** –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –æ—Ç–∫–ª–∏–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤ –Ω–∞ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏.  
‚úÖ –û–±—É—á–µ–Ω–∏–µ ‚Üí ‚úÖ API ‚Üí ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ ‚Üí ‚úÖ –†–µ—Ç—Ä–µ–π–Ω ‚Üí ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É.

---

## üéØ –ó–∞–¥–∞—á–∞

–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã—Ö –∑–∞—Ç—Ä–∞—Ç –∑–∞ —Å—á—ë—Ç —Ç–æ—á–µ—á–Ω–æ–π —Ä–∞—Å—Å—ã–ª–∫–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è **—Ç–æ–ª—å–∫–æ —Ç–µ–º –∫–ª–∏–µ–Ω—Ç–∞–º, —É –∫–æ—Ç–æ—Ä—ã—Ö –≤—ã—Å–æ–∫–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ—Ç–∫–ª–∏–∫–∞**.  
–ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: –¥–∞—Ç–∞—Å–µ—Ç –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π —Å —Å–∏–ª—å–Ω—ã–º –¥–∏—Å–±–∞–ª–∞–Ω—Å–æ–º –∫–ª–∞—Å—Å–æ–≤ (15% –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö –æ—Ç–∫–ª–∏–∫–æ–≤).

---

## üß† –ü–æ–¥—Ö–æ–¥ –∏ –∞–ª–≥–æ—Ä–∏—Ç–º—ã

- **–ú–æ–¥–µ–ª—å**: `LightGBM` —Å –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–æ–π –∫–ª–∞—Å—Å–æ–≤ (`scale_pos_weight`)
- **–ü–æ—Ä–æ–≥**: –ø–æ–¥–æ–±—Ä–∞–Ω –ø–æ **F1-score** –Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω–æ–π –≤—ã–±–æ—Ä–∫–µ
- **–ú–µ—Ç—Ä–∏–∫–∏**:
  - ROC-AUC: **0.897**
  - F1 (–∫–ª–∞—Å—Å 1): **0.52**
  - Precision (–∫–ª–∞—Å—Å 1): **0.50**
  - Recall (–∫–ª–∞—Å—Å 1): **0.54**
- **–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è**: SHAP-–∞–Ω–∞–ª–∏–∑
- **–ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞**: —É–¥–∞–ª–µ–Ω—ã –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã–µ –∏ –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ (`Z_CostContact`, `MntTotal`, `AcceptedCmpOverall`)

üîπ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
–°–æ–∑–¥–∞–ª Flask API, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç JSON —Å –ø—Ä–∏–∑–Ω–∞–∫–∞–º–∏ –∫–ª–∏–µ–Ω—Ç–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ—Ç–∫–ª–∏–∫–∞.
API –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ª–æ–≥–∏—Ä—É–µ—Ç –≤—Å–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –≤ —Ñ–∞–π–ª.

üîπ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —Ä–µ—Ç—Ä–µ–π–Ω
–ö–∞–∂–¥—ã–π –º–µ—Å—è—Ü:
–°—Ä–∞–≤–Ω–∏–≤–∞—é —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–º–∏ (data drift, KS-—Ç–µ—Å—Ç).
–û—Ü–µ–Ω–∏–≤–∞—é –∫–∞—á–µ—Å—Ç–≤–æ –º–æ–¥–µ–ª–∏ –Ω–∞ –Ω–æ–≤—ã—Ö —Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (model drift, ROC-AUC).
–ü—Ä–∏ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–æ–±—É—á–∞—é –º–æ–¥–µ–ª—å –∏ –æ–±–Ω–æ–≤–ª—è—é API.

üîπ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω
–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö: CRM / –±–∞–∑–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤ (—á–µ—Ä–µ–∑ ETL-–ø—Ä–æ—Ü–µ—Å—Å).
–ò–Ω—Ñ–µ—Ä–µ–Ω—Å: –∑–∞–ø—Ä–æ—Å—ã –∫ Flask API –∏–∑ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã.
–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥: –∑–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–æ–≤ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ Airflow –∏–ª–∏ cron).
–•—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–æ–≤: –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ ‚Äî **–≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö **(PostgreSQL), –∞ –Ω–µ –≤ CSV.
–í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—Å—ë –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ. –î–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –±–∞–∑—É –¥–ª—è –ª–æ–≥–æ–≤ –∏ Airflow –¥–ª—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏ ‚Äî –ª–æ–≥–∏–∫–∞ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞¬ª.

üîÆ –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ:
–ù–æ–≤—ã–µ –∫–ª–∏–µ–Ω—Ç—ã ‚Üí –ø—Ä–∏—Ö–æ–¥—è—Ç –≤ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É.
–°–∏—Å—Ç–µ–º–∞ –≤—ã–∑—ã–≤–∞–µ—Ç API ‚Üí –ø–æ–ª—É—á–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ—Ç–∫–ª–∏–∫–∞.
–ï—Å–ª–∏ prob ‚â• 0.56 ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ.
–ß–µ—Ä–µ–∑ 30 –¥–Ω–µ–π ‚Üí CRM –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–∫–∏ (–æ—Ç–∫–ª–∏–∫/–Ω–µ –æ—Ç–∫–ª–∏–∫).
–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ ‚Üí –µ—Å–ª–∏ –∫–∞—á–µ—Å—Ç–≤–æ —É–ø–∞–ª–æ ‚Üí –º–æ–¥–µ–ª—å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è.
–¶–∏–∫–ª –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
.
‚îú‚îÄ‚îÄ api/ # Flask API –¥–ª—è –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞
‚îú‚îÄ‚îÄ monitoring/ # –°–∫—Ä–∏–ø—Ç—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —Ä–µ—Ç—Ä–µ–π–Ω–∞
‚îú‚îÄ‚îÄ reports/ # –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã: –º–æ–¥–µ–ª—å, –º–µ—Ç—Ä–∏–∫–∏, –≥—Ä–∞—Ñ–∏–∫–∏
‚îú‚îÄ‚îÄ src/ # –ú–æ–¥—É–ª–∏: –¥–∞–Ω–Ω—ã–µ, EDA, –æ–±—É—á–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ ifood_df.csv # –ò—Å—Ö–æ–¥–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç
‚îî‚îÄ‚îÄ run_all.py # –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ pipeline


---

## ‚ñ∂Ô∏è –ö–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å

### –ü–æ–ª–Ω—ã–π pipeline (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
python run_all.py

–û—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

–ö–æ–º–∞–Ω–¥–∞                                  –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
python src/eda.py                        –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç EDA-–æ—Ç—á—ë—Ç—ã ‚Üí reports/eda/
python src/train_final.py                –û–±—É—á–∞–µ—Ç –º–æ–¥–µ–ª—å ‚Üí reports/model/
python api/app.py                        –ó–∞–ø—É—Å–∫–∞–µ—Ç API –Ω–∞ http://localhost:5000
python monitoring/simulate_labels.py     –ò–º–∏—Ç–∏—Ä—É–µ—Ç –ø–æ—è–≤–ª–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –º–µ—Ç–æ–∫
python monitoring/retrain_if_needed.py   –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥—Ä–∏—Ñ—Ç –∏ –∫–∞—á–µ—Å—Ç–≤–æ, –¥–µ–ª–∞–µ—Ç —Ä–µ—Ç—Ä–µ–π–Ω –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

–¢–µ—Å—Ç API
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ python api/app.py:
curl -X POST http://localhost:5000/predict \
  -H "Content-Type: application/json" \
  -d '{"Income":50000,"Kidhome":1,...}'  # –ø–æ–ª–Ω—ã–π JSON —Å –ø—Ä–∏–∑–Ω–∞–∫–∞–º–∏

üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

–ò–Ω—Ñ–µ—Ä–µ–Ω—Å: REST API (POST /predict)
–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: –≤—Å–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è

–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
Model drift: –ø–∞–¥–µ–Ω–∏–µ ROC-AUC / F1 –Ω–∞ –Ω–æ–≤—ã—Ö —Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
Data drift: —Ç–µ—Å—Ç –ö–æ–ª–º–æ–≥–æ—Ä–æ–≤–∞-–°–º–∏—Ä–Ω–æ–≤–∞ –ø–æ –ø—Ä–∏–∑–Ω–∞–∫–∞–º
–†–µ—Ç—Ä–µ–π–Ω: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞
–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ: –ª–µ–≥–∫–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å PostgreSQL, Airflow, Docker

üìà –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞ —Ç–µ—Å—Ç–µ (331 –∫–ª–∏–µ–Ω—Ç, 50 –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö)

–ö–ª–∞—Å—Å   Precision   Recall   F1-score
0       0.92        0.90     0.91
1       0.50        0.54     0.52

Accuracy: 0.85
ROC-AUC: 0.897

üí° –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å:
**–¢–æ—á–Ω–æ—Å—Ç—å **(Precision) = 50% ‚Üí –∫–∞–∂–¥—ã–π –≤—Ç–æ—Ä–æ–π –∫–ª–∏–µ–Ω—Ç –∏–∑ —Ü–µ–ª–µ–≤–æ–π –≥—Ä—É–ø–ø—ã —Ä–µ–∞–ª—å–Ω–æ –æ—Ç–∫–ª–∏–∫–∞–µ—Ç—Å—è (–≤ 3.3√ó —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ —Å–ª—É—á–∞–π–Ω–æ–π —Ä–∞—Å—Å—ã–ª–∫–∏).
**–ü–æ–ª–Ω–æ—Ç–∞ **(Recall) = 54% ‚Üí –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è –±–æ–ª–µ–µ –ø–æ–ª–æ–≤–∏–Ω—ã –≤—Å–µ—Ö —Ä–µ–∞–ª—å–Ω—ã—Ö —Ü–µ–ª–µ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤.
ROC-AUC = 0.897 ‚Üí –æ—Ç–ª–∏—á–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–≤.

üìå –í—ã–≤–æ–¥
–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø–æ–ª–Ω—ã–π –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª ML-–º–æ–¥–µ–ª–∏:

–û—Ç EDA –∏ –æ–±—É—á–µ–Ω–∏—è –¥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —Ä–µ—Ç—Ä–µ–π–Ω–∞
–° —Ñ–æ–∫—É—Å–æ–º –Ω–∞ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å, —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ –±–∏–∑–Ω–µ—Å-—Ü–µ–Ω–Ω–æ—Å—Ç—å
–ì–æ—Ç–æ–≤ –∫ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é –≤ —Ä–µ–∞–ª—å–Ω—ã–µ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã

pipeline —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ:

‚úîÔ∏è –û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –ø–∞–¥–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞,
‚úîÔ∏è –õ–æ–≤–∏—Ç —Å–º–µ—â–µ–Ω–∏–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π,
‚úîÔ∏è –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ä–µ—Ç—Ä–µ–π–Ω.
–°–∏–º—É–ª—è—Ü–∏—è –ø–æ–∫–∞–∑–∞–ª–∞ –∫—Ä–∞–π–Ω–∏–π —Å–ª—É—á–∞–π (—à—É–º –≤–º–µ—Å—Ç–æ —Å–∏–≥–Ω–∞–ª–∞), –∏ —Å–∏—Å—Ç–µ–º–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç—Ä–µ–∞–≥–∏—Ä–æ–≤–∞–ª–∞.

üöÄ –î–∞–ª—å–Ω–µ–π—à–∏–µ —à–∞–≥–∏
–ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (CRM, –±–∞–∑—É –∫–ª–∏–µ–Ω—Ç–æ–≤),
–ó–∞–ø—É—Å–∫–∞–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –µ–∂–µ–º–µ—Å—è—á–Ω–æ,
–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ ‚Äî —Ä–µ—Ç—Ä–µ–π–Ω.

