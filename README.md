üìä Marketing Campaign Classifier

End-to-end ML pipeline –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –æ—Ç–∫–ª–∏–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤ –Ω–∞ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏. –ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏, —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ API, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–∞—á–µ—Å—Ç–≤–∞, –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ data drift –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ—Ç—Ä–µ–π–Ω. –ì–æ—Ç–æ–≤ –∫ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ –≤ production.

üéØ –ó–∞–¥–∞—á–∞

–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã—Ö –∑–∞—Ç—Ä–∞—Ç –∑–∞ —Å—á—ë—Ç —Ç–æ—á–µ—á–Ω–æ–π —Ä–∞—Å—Å—ã–ª–∫–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ —Ç–µ–º –∫–ª–∏–µ–Ω—Ç–∞–º, —É –∫–æ—Ç–æ—Ä—ã—Ö –≤—ã—Å–æ–∫–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ—Ç–∫–ª–∏–∫–∞.
–ë–∞–∑–∞: –¥–∞—Ç–∞—Å–µ—Ç –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π —Å –¥–∏—Å–±–∞–ª–∞–Ω—Å–æ–º –∫–ª–∞—Å—Å–æ–≤ (15% –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö –æ—Ç–∫–ª–∏–∫–æ–≤).

üß† –ü–æ–¥—Ö–æ–¥ –∏ –∞–ª–≥–æ—Ä–∏—Ç–º—ã

–ú–æ–¥–µ–ª—å: LightGBM —Å –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–æ–π –∫–ª–∞—Å—Å–æ–≤ (scale_pos_weight)
–ü–æ–¥–±–æ—Ä –ø–æ—Ä–æ–≥–∞: –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ F1-score –Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω–æ–π –≤—ã–±–æ—Ä–∫–µ
–ú–µ—Ç—Ä–∏–∫–∏: ROC-AUC = 0.897, Test F1 = 0.52, Precision = 0.50, Recall = 0.54
–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è: SHAP-–∞–Ω–∞–ª–∏–∑ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –≤–ª–∏—è–Ω–∏—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —É—Ç–µ—á–∫—É –¥–∞–Ω–Ω—ã—Ö: –∏—Å–∫–ª—é—á–µ–Ω—ã –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã–µ –∏ –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ (Z_CostContact, MntTotal –∏ –¥—Ä.)

üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
 
.
‚îú‚îÄ‚îÄ api/                  # Flask API –¥–ª—è –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞
‚îú‚îÄ‚îÄ monitoring/           # –°–∫—Ä–∏–ø—Ç—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —Ä–µ—Ç—Ä–µ–π–Ω–∞
‚îú‚îÄ‚îÄ reports/              # –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã: –º–æ–¥–µ–ª—å, –º–µ—Ç—Ä–∏–∫–∏, –≥—Ä–∞—Ñ–∏–∫–∏
‚îú‚îÄ‚îÄ src/                  # –ú–æ–¥—É–ª–∏: –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö, –æ–±—É—á–µ–Ω–∏–µ, EDA
‚îú‚îÄ‚îÄ ifood_df.csv          # –ò—Å—Ö–æ–¥–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç
‚îî‚îÄ‚îÄ run_all.py            # –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ pipeline
‚ñ∂Ô∏è –ö–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å
üîπ **–ü–æ–ª–Ω—ã–π pipeline **(—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
bash
1
python run_all.py
‚Üí –í—ã–ø–æ–ª–Ω—è–µ—Ç EDA ‚Üí –æ–±—É—á–∞–µ—Ç –º–æ–¥–µ–ª—å ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã.

üîπ –û—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

–ö–æ–º–∞–Ω–¥–∞
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
python src/eda.py

–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ä–∞–∑–≤–µ–¥–æ—á–Ω—ã–π –∞–Ω–∞–ª–∏–∑: —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è, –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏, –≥—Ä–∞—Ñ–∏–∫–∏ (—Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ reports/eda/)
python src/train_final.py

–û–±—É—á–∞–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –µ—ë –≤ reports/model/
python api/app.py

–ó–∞–ø—É—Å–∫–∞–µ—Ç Flask API –Ω–∞ http://localhost:5000/predict
python monitoring/simulate_labels.py

–ò–º–∏—Ç–∏—Ä—É–µ—Ç –ø–æ—è–≤–ª–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –º–µ—Ç–æ–∫ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
python monitoring/retrain_if_needed.py
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ –º–æ–¥–µ–ª–∏ –∏ data drift, –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ä–µ—Ç—Ä–µ–π–Ω –ø—Ä–∏ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏

üîπ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ python api/app.py, –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –∑–∞–ø—Ä–æ—Å:

bash

curl -X POST http://localhost:5000/predict -H "Content-Type: application/json" -d @sample_input.json
(–ø—Ä–∏–º–µ—Ä sample_input.json –º–æ–∂–Ω–æ –≤–∑—è—Ç—å –∏–∑ reports/model/sample_input.csv ‚Üí –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ JSON)

üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏
‚úÖ –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π production-ready pipeline:

–ò–Ω—Ñ–µ—Ä–µ–Ω—Å: REST API (POST /predict)
–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: –≤—Å–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
Model drift: –ø–∞–¥–µ–Ω–∏–µ ROC-AUC/F1 –Ω–∞ –Ω–æ–≤—ã—Ö —Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
Data drift: —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç –ö–æ–ª–º–æ–≥–æ—Ä–æ–≤–∞-–°–º–∏—Ä–Ω–æ–≤–∞ (KS-test) –ø–æ –ø—Ä–∏–∑–Ω–∞–∫–∞–º
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ—Ç—Ä–µ–π–Ω: –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞
–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö, Airflow –∏ Docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ).

üìà –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
–ù–∞ —Ç–µ—Å—Ç–æ–≤–æ–π –≤—ã–±–æ—Ä–∫–µ (331 –∫–ª–∏–µ–Ω—Ç, 50 –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö):

–ö–ª–∞—Å—Å	Precision	Recall	F1-score
0	0.92	0.90	0.91
1	**0.50**	**0.54**	**0.52**


**–¢–æ—á–Ω–æ—Å—Ç—å**(Precision) = 50% ‚Üí –∫–∞–∂–¥—ã–π –≤—Ç–æ—Ä–æ–π –∫–ª–∏–µ–Ω—Ç –∏–∑ —Ü–µ–ª–µ–≤–æ–π –≥—Ä—É–ø–ø—ã —Ä–µ–∞–ª—å–Ω–æ –æ—Ç–∫–ª–∏–∫–∞–µ—Ç—Å—è (–≤ 3.3√ó —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ —Å–ª—É—á–∞–π–Ω–æ–π —Ä–∞—Å—Å—ã–ª–∫–∏).
**–ü–æ–ª–Ω–æ—Ç–∞**(Recall) = 54% ‚Üí –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è –±–æ–ª–µ–µ –ø–æ–ª–æ–≤–∏–Ω—ã –≤—Å–µ—Ö —Ä–µ–∞–ª—å–Ω—ã—Ö —Ü–µ–ª–µ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤.
ROC-AUC = 0.897 ‚Üí –æ—Ç–ª–∏—á–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–≤.
üí° –ú–æ–¥–µ–ª—å –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫—É—é —Ü–µ–Ω–Ω–æ—Å—Ç—å: —Å–Ω–∏–∂–µ–Ω–∏–µ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã—Ö –∑–∞—Ç—Ä–∞—Ç –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ >50% –æ—Ö–≤–∞—Ç–∞ —Ü–µ–ª–µ–≤–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏.

üìå –í—ã–≤–æ–¥
–ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø–æ–ª–Ω—ã–π –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª ML-–º–æ–¥–µ–ª–∏: –æ—Ç EDA –∏ –æ–±—É—á–µ–Ω–∏—è –¥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —Ä–µ—Ç—Ä–µ–π–Ω–∞.
–†–µ—à–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–∞—Ö.
